<!DOCTYPE html>
<html style="width: 100%; height: 100%; margin: 0; padding: 0" lang="en-us">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta http-equiv="Cache-Control" content="NO-CACHE">
<meta http-equiv="Pragma" content="NO-CACHE">
<meta http-equiv="Expires" content="-1">

<title>IBM Extensions Toolkit for Dojo (IDX)</title>

<script type="text/javascript" src="ibmjs/idx/tests/dojoVersion.js"></script>

<script type="text/javascript">
dojoCSSImport("@dojopath@/dojo/resources/dojo.css", "idxStyles");
dojoCSSImport("@dojopath@/dijit/themes/dijit.css", "idxStyles");
dojoCSSImport("@dojopath@/dijit/themes/dijit_rtl.css", "idxStyles");
dojoCSSImport("@dojopath@/dijit/icons/commonIcons.css", "idxStyles");
dojoCSSImport("@dojopath@/dijit/icons/commonIcons_rtl.css", "idxStyles");
dojoCSSImport("@dojopath@/dijit/icons/editorIcons.css", "idxStyles");
dojoCSSImport("@dojopath@/dijit/icons/editorIcons_rtl.css", "idxStyles");
dojoCSSImport("@dojopath@/dojox/grid/resources/Grid.css", "idxStyles");
dojoCSSImport("@dojopath@/dojox/grid/resources/Grid_rtl.css", "idxStyles");
dojoCSSImport("@dojopath@/dojox/layout/resources/ResizeHandle.css", "idxStyles");
dojoCSSImport("@dojopath@/dojox/form/resources/TriStateCheckBox.css", "idxStyles");
</script>

<style type="text/css" id="idxStyles">
  @import "ibmjs/idx/themes/oneui/oneui.css";
</style>

<style type="text/css">
  font-weight: bold;
  text-align: center;
  padding: 10px;
}

td.header {
  font-weight: bold;
  text-align: left;
  padding: 10px;
}

.dijitRtl td.header, .dijitRtl th.header, .dijitRtl td.field {
	text-align: right;
}

td.field {
  text-align: left;
  padding: 10px;
}

table.fieldTable {
  margin: 5px;
}
</style>


<script type="text/javascript">
var dojoConfig = currentDojoVersion.dojoConfig;
</script>

<script type="text/javascript">
dojoScriptImport("@dojopath@/dojo/dojo.js", "postDojo");
</script>

<script type="text/javascript" id="postDojo">
var modules = [	"dojo.parser",
          		"dojo.i18n",
				"dijit.form.DropDownButton",
              	"dijit.Menu",
              	"dijit.CheckedMenuItem",
              	"idx.ext",
              	"idx.app.A11yPrologue",
              	"idx.app.AppFrame",
              	"idx.app.AppMarquee",
              	"idx.string",
              	"idx.resources",
            	"idx.bus",
              	"idx.app.Workspace",
              	"idx.app._A11yAreaProvider",
              	"idx.app._Launcher",
              	"idx.a11y",
              	"idx.app.WorkspaceType",
              	"idx.app.TabMenuLauncher",
              	"idx.form.DropDownLink",
              	"idx.form.Link",
              	"dojo/_base/xhr",
              	"idx.dialogs"];
 
var i18nModules = [ {package: "ibm.mygroup.myproduct", bundle: "app"} ];

var resources = {};
var dXHRGet = null;
var iDialogs = null;

function preParse(modules) {
	resources = modules["dojo/i18n!ibm/mygroup/myproduct/nls/app"];
	dXHRGet = modules["dojo/_base/xhr"] ? modules["dojo/_base/xhr"].get : dojo.xhrGet;
	iDialogs = modules["idx/dialogs"];
}

dojoRequireModules(modules, i18nModules, currentDojoVersion.async, preParse);
</script>

<script type="text/javascript" src="ibmjs/idx/tests/commonTest.js"></script>

<script type="text/javascript">
function changeDojoVersion(dojoVer) {
  var currentURL = parseCurrentURL();
  var newURL = currentURL.baseURL;
  if (currentURL.queryParams != null) {
    currentURL.queryParams.dojo = dojoVer.code;
    newURL = newURL + "?" + dojo.objectToQuery(currentURL.queryParams) + currentURL.urlAnchors; 
  } else {
    newURL = newURL + "?dojo=" + dojoVer.code + currentURL.urlAnchors;
  }
  document.location = newURL;
}

function changeTheme(theme) {  
  var currentURL = parseCurrentURL();
  var newURL = currentURL.baseURL;
  if (currentURL.queryParams != null) {
    currentURL.queryParams.theme = theme.code;
    newURL = newURL + "?" + dojo.objectToQuery(currentURL.queryParams) + currentURL.urlAnchors; 
  } else {
    newURL = newURL + "?theme=" + theme.code + currentURL.urlAnchors;
  }
  document.location = newURL;
}

function changeBidiDirection(direction) {
  var currentURL = parseCurrentURL();
  var newURL = currentURL.baseURL;
  if (currentURL.queryParams != null) {
    currentURL.queryParams.dir = direction.code;
    newURL = newURL + "?" + dojo.objectToQuery(currentURL.queryParams) + currentURL.urlAnchors;
  } else {
    newURL = newURL + "?dir=" + direction.code + currentURL.urlAnchors;
  }
  document.location = newURL;
}

function openOneUIGallery() {    
  var thisURL = "" + document.location;
  var baseIndex  = thisURL.indexOf('index.html');
  var baseURL = '';
  if ((baseIndex > 0) && (baseIndex < (thisURL.length - 1))) {
	baseURL = thisURL.substring(0, baseIndex);
  }
  var newURL = baseURL + "ibmjs/idx/themes/oneui/widgetGallery.html";  
  document.location = newURL;
}

function changeA11yMode(newA11yMode) {
  var currentURL = parseCurrentURL();
  var newURL = currentURL.baseURL;
  if (currentURL.queryParams != null) {
    currentURL.queryParams.a11y = newA11yMode.code;
    newURL = newURL + "?" + dojo.objectToQuery(currentURL.queryParams) + currentURL.urlAnchors;
  } else {
    newURL = newURL + "?a11y=" + newA11yMode.code  + currentURL.urlAnchors;
  }
  document.location = newURL;
}
var docwin = null;
function onHelp() {
	if(docwin != null )docwin.close();
	docwin=window.open('./jsDocs/index.html','idxdoc');
	docwin.focus();
	return false;
}
</script>

<!-- for sametime.wareness of PersonCard -->
<script type="text/javascript" src="http://localhost:59449/stwebapi/getStatus.js"></script>
<style type="text/css">
@import "http://localhost:59449/stwebapi/main.css";
</style>

</head>

<body id="idxExampleBody" 
      style="width: 100%; height: 100%; margin: 0; padding: 0">

<script type="text/javascript">applyThemeToBody();</script>

<div dojoType="idx.app.A11yPrologue"></div>
<div style="width: 100%; height: 100%; margin: 0; padding: 0"
     dojoType="idx.app.AppFrame">
 
  <div dojoType="idx.app.AppMarquee" region="marquee"
       appName="IBM Extensions Toolkit for Dojo (IDX) - Sample Application"
       vendorName="IBM &#0174;"
       vendorLogo="images/vendorLogoWhite.png">

       <!-- WHATEVER CONTENT YOU WANT CAN GO HERE FOR THE MARQUEE -->
       <span dojoType="idx.form.DropDownLink"
       		 mixinArgs="{label: currentDojoVersion.label}"
       		 title="Choose a Dojo version">
              <div dojoType="dijit.Menu" >
                 <div dojoType="dijit.MenuItem"
                       onClick="changeDojoVersion(dojoVersions['1.8.4-amd'])"
                       mixinArgs="{label: dojoVersions['1.8.4-amd'].name, disabled: currentDojoVersion.code == '1.8.4-amd'}">
                 </div>
                 <div dojoType="dijit.MenuItem"
                       onClick="changeDojoVersion(dojoVersions['1.8.4-sync'])"
                       mixinArgs="{label: dojoVersions['1.8.4-sync'].name, disabled: currentDojoVersion.code == '1.8.4-sync'}">
                 </div>
              </div>
        </span>
       <span>|</span>
       <span class="linkMenu" dojoType="idx.form.DropDownLink"
             mixinArgs="{label: bidiDirection.label}"
             title="Choose a document direction">
             <div dojoType="dijit.Menu">
                 <div dojoType="dijit.MenuItem"
                       onClick="changeBidiDirection(bidiOptions.ltr)"
                       mixinArgs="{label: bidiOptions.ltr.name, disabled: bidiDirection.code=='ltr'}">
                 </div>
                 <div dojoType="dijit.MenuItem" 
                      onClick="changeBidiDirection(bidiOptions.rtl)"
                      mixinArgs="{label: bidiOptions.rtl.name, disabled: bidiDirection.code=='rtl'}">
                 </div>
              </div>
        </span>
       <span>|</span>
       <span class="linkMenu" dojoType="idx.form.DropDownLink"
             label="Heritage IDX" title="Choose a toolkit gallery">
              <div dojoType="dijit.Menu" >
              	 <div dojoType="dijit.MenuItem"
              	      label="Heritage IDX"
              	      disabled="true">
                 </div>  
                 <div dojoType="dijit.MenuItem"
                      onClick="openOneUIGallery()"
                      label="Heritage Design Leadership">
                 </div>                                  
              </div>
        </span>
       <span>|</span>
       <span dojoType="idx.form.Link">About<script type="dojo/connect" event="onClick">
			return; // for now we do NOT do this because of potential confusion with One UI "About" dialog
			dXHRGet({url: "ibmjs/version.txt",
					 handleAs: "text",
					 preventCache: true,
					 sync: true,
					 error: function() {
						iDialogs.error("Unable to find version.txt to determine IDX version/build number.");
					 },
					 load: function(versionText) {
						iDialogs.info("IDX Version/Build: " + versionText);
					 }});
	   </script></span>
       <span>|</span>
       <span dojoType="idx.form.Link" onClick="return onHelp()">Help</span>
       <span>|</span>
       <span dojoType="idx.form.Link">Logout</span>
  </div>

  <div dojoType="idx.app.TabMenuLauncher" 
       defaultWorkspaceTypeID="WELCOME"
       stateCookieName="idx.app.launcher">
	
	<div dojoType="idx.app.WorkspaceType" 
	    workspaceTypeID="WELCOME"
         urlTemplate="ibmjs/idx/demos/widgetGallery/welcome.html"
         mixinArgs="{workspaceTypeName: resources.welcomeTabTitle}">
    </div>
    
	<div dojoType="idx.app.WorkspaceType" 
	 workspaceTypeID="LOGIN"
         urlTemplate="tests/login.html"
         mixinArgs="{workspaceTypeName: resources.loginTabTitle}">
    </div>
    
    <div dojoType="idx.app.WorkspaceType" 
	 workspaceTypeID="LIST_NAV"
         urlTemplate="tests/list/listNav.html"
         mixinArgs="{workspaceTypeName: resources.listNavTabTitle}"
         workspaceArgs="{preload: false}"
         ></div>
 
    <div dojoType="idx.app.WorkspaceType" 
	 workspaceTypeID="CONTAINERS"
         urlTemplate="tests/containers/containers.html"
         mixinArgs="{workspaceTypeName: resources.containersTabTitle}"
         workspaceArgs="{preload: false}"
         ></div>
 
    <div dojoType="idx.app.WorkspaceType" 
	 workspaceTypeID="CONTROLS"
         urlTemplate="tests/controls/controls.html"
         mixinArgs="{workspaceTypeName: resources.controlsTabTitle}"
         workspaceArgs="{preload: false}"
         ></div>
 
 <!-- 
    <div dojoType="idx.app.WorkspaceType" 
	 workspaceTypeID="MSG_BUS"
         urlTemplate="tests/messageBus/messageBus.html"
         mixinArgs="{workspaceTypeName: resources.messageBusTabTitle}"
         workspaceArgs="{preload: false}"
         ></div>
 -->
     <div dojoType="idx.app.WorkspaceType" 
	 workspaceTypeID="WIDGET_REF"
         urlTemplate="tests/widgetRef/widgetRef.html"
         mixinArgs="{workspaceTypeName: resources.widgetRefTitle}"
         workspaceArgs="{preload: false}"
         ></div>
 
  </div>

</div>

</body>
</html>
