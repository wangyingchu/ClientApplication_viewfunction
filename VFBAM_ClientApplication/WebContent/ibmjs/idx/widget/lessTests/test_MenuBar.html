<!DOCTYPE html>
<!--
	Licensed Materials - Property of IBM
	(C) Copyright IBM Corp. 2010, 2012 All Rights Reserved
	US Government Users Restricted Rights - Use, duplication or
	disclosure restricted by GSA ADP Schedule Contract with IBM Corp.
-->
<html>
  <head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8">
    <title>Menubar tests</title>

	<script type="text/javascript" src="../../tests/dojoVersion.js"></script>

	<script type="text/javascript">
		dojoCSSImport("../../../../@dojopath@/dojo/resources/dojo.css", "idxStyles");
		dojoCSSImport("../../../../@dojopath@/dijit/themes/dijit.css", "idxStyles");
		dojoCSSImport("../../../../@dojopath@/dijit/themes/dijit_rtl.css", "idxStyles");
	</script>

    <style id="idxStyles" type="text/css">
        @import "../../themes/oneuiLess/theme.css";
        @import "../../tests/_pagefooter/_PageFooter.css";
        @import "../../tests/test.css";
    </style>

	<script type="text/javascript">
		var dojoConfig = currentDojoVersion.dojoConfig;
		dojoScriptImport("../../../../@dojopath@/dojo/dojo.js", "postDojo");
	</script>

	<script type="text/javascript" id="postDojo">
		var modules = [
			"idx.widget.Menu", 
            "idx.widget.MenuBar",
            "dijit.PopupMenuBarItem",
            "dijit.PopupMenuItem",
            "dijit.MenuItem",
			"dijit.form.Button",
			"dijit.registry",
			"dojo.dom",
			"idx.tests._pagefooter._PageFooter"];  

			var OneuiMenu,
				OneuiMenuBar,
				DijitPopupMenuBarItem,
				DijitPopupMenuItem,
				DijitMenuItem,
				DijitFormButton,
				registry,
				dom,
				_PageFooter;
				
			function preParse(modules){
				OneuiMenu = modules["idx/widget/Menu"];
				OneuiMenuBar = modules["idx/widget/MenuBar"];
				DijitPopupMenuBarItem = modules["dijit/PopupMenuBarItem"];
				DijitPopupMenuItem = modules["dijit/PopupMenuItem"];
				DijitMenuItem = modules["dijit/MenuItem"];
				DijitFormButton = modules["dijit/form/Button"];
				registry = modules["dijit/registry"];
				dom = modules["dojo/dom"];
				_PageFooter = modules["idx/tests/_pagefooter/_PageFooter"];
			}
			
			function postParse(modules){
				new _PageFooter();
			}
			  
		dojoRequireModules(modules, null, currentDojoVersion.async, preParse, postParse);

		function setOpenOnHover(newvalue){
			registry.byId('menubar_1').set('openOnHover', newvalue);
			dom.byId('hto_status').innerHTML = newvalue ? "on" : "off";
			registry.byId('hto_on').set("disabled", newvalue);
			registry.byId('hto_off').set("disabled", !newvalue);
		}
    </script> 

	<script type="text/javascript" src="../../tests/commonTest.js"></script>
  </head>
  <body role="main" id="body_id" style="width: 100%; height: 100%; margin: 0; padding: 0px;">
	<a class="dijitOffScreen" href="#maincontent">Skip to main content</a>
	<script type="text/javascript">applyThemeToBody("oneui");</script><!-- only oneui theme is supported -->

	<a name="maincontent"></a>
	<div class="testMain">

	    <h1 class="testTitle">One UI Menubar widget tests</h1>
	
	    <h2>One UI menu bar with drop-down menus</h2>
	    <p>Tests the enabling and disabling of the hover-to-open state.</p>
		
	    <div id="menubar_1" data-dojo-type="idx.widget.MenuBar">
	      <div data-dojo-type="dijit.MenuBarItem" onclick="alert('Item clicked');">Menu item</div>
		  
	      <div data-dojo-type="dijit.PopupMenuBarItem">
	        <span>Drop-down One</span>
	        <div data-dojo-type="idx.widget.Menu">
	          <div data-dojo-type="dijit.MenuItem" onclick="alert('Cut clicked');" data-dojo-props="iconClass: 'dijitEditorIcon dijitEditorIconCut'">Cut</div>
	          <div data-dojo-type="dijit.MenuItem" onclick="alert('Copy clicked');" data-dojo-props="iconClass: 'dijitEditorIcon dijitEditorIconCopy'">Copy</div>
	          <div data-dojo-type="dijit.MenuItem" onclick="alert('Paste clicked');" data-dojo-props="iconClass: 'dijitEditorIcon dijitEditorIconPaste'">Paste</div>
	        </div>
	      </div>
		  
	      <div data-dojo-type="dijit.PopupMenuBarItem">
	        <span>Drop-down Two</span>
	        <div data-dojo-type="idx.widget.Menu">
	          <div data-dojo-type="dijit.MenuItem" onclick="alert('Cut clicked');" data-dojo-props="iconClass: 'dijitEditorIcon dijitEditorIconCut'">Cut</div>
	          <div data-dojo-type="dijit.MenuItem" onclick="alert('Copy clicked');" data-dojo-props="iconClass: 'dijitEditorIcon dijitEditorIconCopy'">Copy</div>
	          <div data-dojo-type="dijit.MenuItem" onclick="alert('Paste clicked');" data-dojo-props="iconClass: 'dijitEditorIcon dijitEditorIconPaste'">Paste</div>
	        </div>
	      </div>
		  
	      <div data-dojo-type="dijit.PopupMenuBarItem">
	        <span>Drop-down Three</span>
	        <div data-dojo-type="idx.widget.Menu">
	          <div data-dojo-type="dijit.MenuItem" onclick="alert('Cut clicked');" data-dojo-props="iconClass: 'dijitEditorIcon dijitEditorIconCut'">Cut</div>
	          <div data-dojo-type="dijit.MenuItem" onclick="alert('Copy clicked');" data-dojo-props="iconClass: 'dijitEditorIcon dijitEditorIconCopy'">Copy</div>
	          <div data-dojo-type="dijit.MenuItem" onclick="alert('Paste clicked');" data-dojo-props="iconClass: 'dijitEditorIcon dijitEditorIconPaste'">Paste</div>
	        </div>
	      </div>
	
	    </div>
		
		<p>Current state of hover-to-open: <b><span id="hto_status">on</span></b></p>
	    
	    <p>
			<button id="hto_on" disabled="disabled" data-dojo-type="dijit.form.Button" onclick="setOpenOnHover(true);">Activate hover-to-open</button>    
			<button id="hto_off" data-dojo-type="dijit.form.Button" onclick="setOpenOnHover(false);">Deactivate hover-to-open</button>
		</p>
	</div>
  </body>
</html>
